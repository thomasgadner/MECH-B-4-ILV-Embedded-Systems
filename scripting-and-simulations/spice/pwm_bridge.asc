Version 4
SHEET 1 3972 2452
WIRE 992 -128 496 -128
WIRE 1232 -128 992 -128
WIRE 496 -80 496 -128
WIRE 992 -80 992 -128
WIRE 352 0 320 0
WIRE 448 0 432 0
WIRE 848 0 816 0
WIRE 944 0 928 0
WIRE 320 48 320 0
WIRE 816 48 816 0
WIRE 320 160 320 128
WIRE 496 160 496 16
WIRE 496 160 320 160
WIRE 816 160 816 128
WIRE 992 160 992 16
WIRE 992 160 816 160
WIRE 1232 176 1232 -128
WIRE 496 256 496 160
WIRE 576 256 496 256
WIRE 688 256 576 256
WIRE 912 256 768 256
WIRE 992 256 992 160
WIRE 992 256 912 256
WIRE 496 320 496 256
WIRE 992 320 992 256
WIRE 352 400 320 400
WIRE 448 400 432 400
WIRE 848 400 816 400
WIRE 944 400 928 400
WIRE 320 448 320 400
WIRE 816 448 816 400
WIRE 320 560 320 528
WIRE 496 560 496 416
WIRE 496 560 320 560
WIRE 816 560 816 528
WIRE 816 560 496 560
WIRE 992 560 992 416
WIRE 992 560 816 560
WIRE 1232 560 1232 256
WIRE 1232 560 992 560
WIRE 496 592 496 560
FLAG 496 592 0
FLAG 576 256 V_A
FLAG 912 256 V_B
SYMBOL nmos 448 320 R0
SYMATTR InstName M1
SYMATTR Value BSB012N03LX3
SYMBOL res 448 384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName r_g
SYMATTR Value 5
SYMBOL nmos 448 -80 R0
SYMATTR InstName M2
SYMATTR Value BSB012N03LX3
SYMBOL voltage 320 32 R0
WINDOW 3 -286 142 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 15 0 10n 10n {d1*t_pwm} {t_pwm})
SYMATTR InstName V1
SYMBOL res 448 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName r_g1
SYMATTR Value 5
SYMBOL nmos 944 320 R0
SYMATTR InstName M3
SYMATTR Value BSB012N03LX3
SYMBOL res 944 384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName r_g2
SYMATTR Value 5
SYMBOL nmos 944 -80 R0
SYMATTR InstName M4
SYMATTR Value BSB012N03LX3
SYMBOL res 944 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName r_g3
SYMATTR Value 5
SYMBOL voltage 1232 160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V_BUS
SYMATTR Value 1
SYMBOL voltage 320 432 R0
WINDOW 3 -286 142 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 15 0 10n 10n {d4*t_pwm} {t_pwm})
SYMATTR InstName V2
SYMBOL voltage 816 32 R0
WINDOW 3 -286 142 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 15 0 10n 10n {d3*t_pwm} {t_pwm})
SYMATTR InstName V3
SYMBOL voltage 816 432 R0
WINDOW 3 -286 142 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 15 0 10n 10n {d2*t_pwm} {t_pwm})
SYMATTR InstName V4
SYMBOL res 784 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName r_Load
SYMATTR Value 1
TEXT -256 280 Left 2 !.param f_pwm=10k\n.param d1=0.1 d2=1 d3=0 d4=0\n.param t_pwm = 1/f_pwm
TEXT -256 416 Left 2 !.tran {t_pwm*10}
