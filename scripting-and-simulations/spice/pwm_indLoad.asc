Version 4
SHEET 1 880 680
WIRE 144 -96 112 -96
WIRE 320 -96 224 -96
WIRE 496 -96 320 -96
WIRE 656 -96 496 -96
WIRE 496 -48 496 -96
WIRE 112 -16 112 -96
WIRE 656 48 656 -96
WIRE 320 64 320 -96
WIRE 496 80 496 32
WIRE 112 128 112 64
WIRE 496 208 496 160
WIRE 112 288 112 208
WIRE 320 288 320 128
WIRE 320 288 112 288
WIRE 496 304 496 288
WIRE 656 304 656 112
WIRE 656 304 496 304
WIRE 496 320 496 304
WIRE 304 400 224 400
WIRE 448 400 384 400
WIRE 224 448 224 400
WIRE 112 560 112 288
WIRE 224 560 224 528
WIRE 224 560 112 560
WIRE 496 560 496 416
WIRE 496 560 224 560
WIRE 112 576 112 560
FLAG 112 576 0
SYMBOL voltage 112 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL res 480 64 R0
SYMATTR InstName R1
SYMATTR Value 0.1
SYMBOL ind 512 48 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L1
SYMATTR Value 1m
SYMBOL nmos 448 320 R0
SYMATTR InstName M1
SYMATTR Value BSB012N03LX3
SYMBOL voltage 224 432 R0
WINDOW 3 -18 168 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 15 0 10n 10n {d*t_pwm} {t_pwm})
SYMBOL res 400 384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName r_g
SYMATTR Value 5
SYMBOL voltage 496 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 0
SYMBOL diode 672 112 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL ind 96 -32 R0
SYMATTR InstName lead_ind
SYMATTR Value 500n
SYMBOL cap 304 64 R0
SYMATTR InstName C_DC
SYMATTR Value 1µ
SYMBOL res 240 -112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName lead_res
SYMATTR Value 0.2
TEXT -256 280 Left 2 !.param f_pwm = 5k\n.param d = 0.1\n.param t_pwm = 1/f_pwm
TEXT -256 624 Left 2 !.tran 10ms
